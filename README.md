# Многофункциональная Интеллектуализированная Система Контроля Акружения

Система предназначена для мониторинга запретных зон с помощью веб-камеры. При обнаружении человека в запретной зоне формируется уведомление, которое отправляется на зарегистрированные Android-устройства сотрудников.

## Особенности

- Работа исключительно в локальной сети (WiFi/LAN), без доступа в интернет
- Детекция людей с помощью YOLO или MediaPipe
- Визуальное создание и редактирование запретных зон
- Уведомления на Android-устройства в реальном времени
- Система логирования всех событий
- Веб-интерфейс для управления системой

## Технологический стек

### Серверная часть
- **Python 3.8+**
- **FastAPI** - веб-фреймворк
- **OpenCV** - работа с видео
- **YOLO v8 / MediaPipe** - детекция людей
- **SQLite** - база данных
- **WebSocket** - уведомления в реальном времени

### Веб-интерфейс
- HTML5/CSS3/JavaScript
- Canvas API - рисование зон
- Fetch API/WebSocket - взаимодействие с сервером

### Android-приложение
- Kotlin/Java
- Retrofit - HTTP-клиент
- WebSocket клиент - получение уведомлений

## Установка

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd drowning_pool
```

2. Создайте виртуальное окружение:
```bash
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# или
venv\Scripts\activate  # Windows
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Создайте необходимые директории:
```bash
mkdir -p data/violations data/uploads
```

5. Настройте конфигурацию (при необходимости отредактируйте `config.json`)

6. Запустите сервер:
```bash
python main.py
```

Сервер будет доступен по адресу `http://localhost:8000`

## Структура проекта

```
drowning_pool/
├── main.py                 # Точка входа приложения
├── config.json            # Конфигурационный файл
├── requirements.txt       # Зависимости Python
├── README.md             # Документация
├── app/                  # Основное приложение
│   ├── __init__.py
│   ├── api/              # API endpoints
│   ├── core/             # Ядро системы
│   ├── models/           # Модели данных
│   ├── services/         # Бизнес-логика
│   └── utils/            # Утилиты
├── static/               # Статические файлы (веб-интерфейс)
│   ├── css/
│   ├── js/
│   └── images/
├── templates/            # HTML шаблоны
├── data/                 # Данные (БД, изображения, видео)
│   ├── violations/
│   ├── uploads/
│   └── database.db
└── tests/                # Тесты
```

## Использование

1. Откройте веб-интерфейс в браузере: `http://<IP_сервера>:8000`
2. Настройте видеопоток (камера или файл)
3. Создайте запретные зоны на видео
4. Зарегистрируйте Android-устройства для получения уведомлений
5. Система автоматически будет отслеживать нарушения и отправлять уведомления

## API Документация

После запуска сервера API документация доступна по адресу:
- Swagger UI: `http://localhost:8000/docs`
- ReDoc: `http://localhost:8000/redoc`

## Лицензия

[Указать лицензию]

